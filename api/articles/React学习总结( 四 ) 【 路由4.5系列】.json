{"title":"React小记【Router 4.5】","uid":"37bd36721f8bec015e9d4d3d62e233ff","slug":"React学习总结( 四 ) 【 路由4.5系列】","date":"2022-12-26T13:14:11.604Z","updated":"2023-02-01T06:49:17.341Z","comments":true,"path":"api/articles/React学习总结( 四 ) 【 路由4.5系列】.json","keywords":null,"cover":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/gq6.jpg","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h1 id=\"React-学习总结-四-【-路由系列】\"><a href=\"#React-学习总结-四-【-路由系列】\" class=\"headerlink\" title=\"React 学习总结( 四 ) 【 路由系列】\"></a>React 学习总结( 四 ) 【 路由系列】</h1><hr>\n<h1 id=\"react-router-dom-路由-4-5-版本\"><a href=\"#react-router-dom-路由-4-5-版本\" class=\"headerlink\" title=\"react-router-dom(路由 4.5 版本)\"></a>react-router-dom(路由 4.5 版本)</h1><hr>\n<h1 id=\"一、基础路由搭建\"><a href=\"#一、基础路由搭建\" class=\"headerlink\" title=\"一、基础路由搭建\"></a>一、基础路由搭建</h1><hr>\n<p><strong>相关技术点：</strong></p>\n<ol>\n<li><p><strong>安装路由，解构出 BrowserRouter 套住需要路由的根组件</strong></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> BrowserRouter <span class=\"token keyword\">as</span> Router <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\nroot<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p><strong>解构 Link, Route, Switch,j 加入 exact 精确匹配</strong></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//  Link相当于改变url的a标签，对应vue里面router-link</span>\n<span class=\"token comment\">//  一个Route表示一个路由</span>\n<span class=\"token comment\">//  Switch是将包容性转成排他性路由</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Link<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 路由组件</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Home</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是首页页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">About</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是关于页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Mine</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是我的页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">// 父组件部分</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>react<span class=\"token operator\">-</span>router<span class=\"token operator\">-</span>basic<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>about<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span><span class=\"token operator\">></span>mine<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n        <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* react路由默认是包容性路由 */</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* exact表示精确匹配,默认是模糊匹配 */</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/*设置path跳转路径，compoenet注册路由组件 */</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Home<span class=\"token punctuation\">&#125;</span> exact<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>About<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Mine<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n<h1 id=\"二、动态路由-【history-用来做编程式导航-location-用来获取-url-信息-match-用来获取参数】\"><a href=\"#二、动态路由-【history-用来做编程式导航-location-用来获取-url-信息-match-用来获取参数】\" class=\"headerlink\" title=\"二、动态路由 【history 用来做编程式导航, location 用来获取 url 信息, match 用来获取参数】\"></a>二、动态路由 【history 用来做编程式导航, location 用来获取 url 信息, match 用来获取参数】</h1><hr>\n<p><strong>核心技术点：路径 / :id 获取路由信息，通过 props 的 match 用来获取参数</strong></p>\n<p>组件部分：</p>\n<p><Route path=\"/detail/:id/:str\" component={Detail}></Route></p>\n<p>组件获取 ID 方法</p>\n<div>这是详情页面 - {this.props.match.params.id}-{this.props.match.params.str}</div>\n\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Detail</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// todo 当一个组件通过路由引入的时候，props就是一个对象</span>\n    <span class=\"token comment\">// todo history用来做编程式导航, location用来获取url信息, match用来获取参数</span>\n    <span class=\"token comment\">// todo 统称为路由信息</span>\n    <span class=\"token comment\">// todo ?.叫做可选链操作符</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>match<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>params<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// this.props.history.push?.();</span>\n    <span class=\"token keyword\">return</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>div<span class=\"token punctuation\">></span></span>这是详情页面 <span class=\"token operator\">-</span> <span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>h2<span class=\"token punctuation\">></span></span>react<span class=\"token operator\">-</span>router<span class=\"token operator\">-</span>params动态路由<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n        <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>ul<span class=\"token punctuation\">></span></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token class-name\">Link</span> <span class=\"token keyword\">to</span><span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span><span class=\"token operator\">></span>mine<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token class-name\">Link</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>li<span class=\"token punctuation\">></span></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token class-name\">Link</span> <span class=\"token keyword\">to</span><span class=\"token operator\">=</span><span class=\"token string\">\"/detail/234\"</span><span class=\"token operator\">></span>detail<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token class-name\">Link</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n        <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Switch</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token class-name\">Route</span> path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">About</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token class-name\">Route</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token class-name\">Route</span> path<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Mine</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token class-name\">Route</span><span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* 动态路由 */</span><span class=\"token punctuation\">&#125;</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token class-name\">Route</span> path<span class=\"token operator\">=</span><span class=\"token string\">\"/detail/:id\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Detail</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token class-name\">Route</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token class-name\">Switch</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\nexport <span class=\"token keyword\">default</span> <span class=\"token class-name\">App</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"三、路由嵌套\"><a href=\"#三、路由嵌套\" class=\"headerlink\" title=\"三、路由嵌套\"></a>三、路由嵌套</h1><hr>\n<p>注意点:如果一个组件需要做嵌套路由，不能加 exact 精确匹配属性</p>\n<p>嵌套的方法很简单，直接在要嵌套的组件里继续写 Link 和 switch</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Home</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// console.log(this.props);</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span>\n      <span class=\"token literal-property property\">match</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> url <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span> <span class=\"token comment\">//做了而二次解构，把公共的url结构出来</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是首页页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>url<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">/home1</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>home1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">&#125;</span>\n            <span class=\"token comment\">//模板字符串是JS表达式，需要加&#123;&#125;</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>url<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">/home2</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>home2<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>url<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">/home1</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">&#125;</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Home1<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>url<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">/home2</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">&#125;</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Home2<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"四、组件的渲染方式\"><a href=\"#四、组件的渲染方式\" class=\"headerlink\" title=\"四、组件的渲染方式\"></a>四、组件的渲染方式</h1><hr>\n<p>1.render 属性渲染组件 【主要渲染函数组件】【类组件需要套箭头函数】</p>\n<p>主要作用：函数可以进行逻辑判断，根据条件渲染，路由鉴权等….</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">    <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* render属性也可以渲染页面 */</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* render属性只能渲染函数组件，不能渲染类组件 */</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* render想渲染类组件，需要使用箭头函数, 但是路由信息是需要传递一下 */</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* render里面写函数，就可以写逻辑判断 */</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token operator\">&lt;</span>Route\n      path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span>\n      render<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>About <span class=\"token punctuation\">&#123;</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">&#125;</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">>;  </span><span class=\"token regex-delimiter\">/</span></span><span class=\"token operator\">/</span><span class=\"token operator\">/</span> 类组件渲染 <span class=\"token punctuation\">&#123;</span><span class=\"token operator\">...</span>传递props<span class=\"token punctuation\">&#125;</span>\n       <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span>\n    <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token comment\">// withRouter是一个高阶组件，作用就是让那些没有路由信息的组件，拥有路由信息---</span>\n        <span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Link<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> withRouter <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>2.children 属性渲染组件 【children 属性在有 Switch 的情况下和 render 是一样的，没有 Swtich 的情况下不管 url 是否匹配都会渲染】</p>\n<pre class=\"line-numbers language-Java\" data-language=\"Java\"><code class=\"language-Java\">&#123;&#x2F;* children属性也可以做渲染 *&#x2F;&#125;\n&#123;&#x2F;* children属性在有Switch的情况下和render是一样的，没有Swtich的情况下不管url是否匹配都会渲染 *&#x2F;&#125;\n&lt;Route path&#x3D;&quot;&#x2F;mine&quot; children&#x3D;&#123;Mine&#125;&gt;&lt;&#x2F;Route&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>3.插槽渲染 【既能渲染函数组件也能渲染类组件】 【缺点：没有路由信息,可以用 withRouter 高阶组件解决，但是会让组件树套的更深】</p>\n<pre class=\"line-numbers language-Java\" data-language=\"Java\"><code class=\"language-Java\">&#123;&#x2F;* 也可以使用插槽的方式直接写在Route的里面 *&#x2F;&#125;\n&#123;&#x2F;* 既能渲染函数组件也能渲染类组件 *&#x2F;&#125;\n&#123;&#x2F;* 但是插槽的方式是没有路由信息的 *&#x2F;&#125;\n&lt;Route path&#x3D;&quot;&#x2F;classify&quot;&gt;\n  &lt;Classify &#x2F;&gt;\n&lt;&#x2F;Route&gt;\n &#x2F;&#x2F; withRouter是一个高阶组件，作用就是让那些没有路由信息的组件，拥有路由信息---\n    import &#123; Link, Route, Switch, withRouter &#125; from &quot;react-router-dom&quot;;\n    @withRouter\n      class Classify extends Component &#123;\n         render() &#123;\n         console.log(this.props);\n         return &lt;div&gt;这是分类页面&lt;&#x2F;div&gt;;\n         &#125;\n       &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.component 【既能渲染函数组件也能渲染类组件，比较常见的渲染方式】</p>\n<pre class=\"line-numbers language-Java\" data-language=\"Java\"><code class=\"language-Java\">&#123;&#x2F;* 渲染页面比较常用的方式是使用component属性 *&#x2F;&#125;\n&#123;&#x2F;* component既能渲染函数组件也能渲染类组件 *&#x2F;&#125;\n&lt;Route path&#x3D;&quot;&#x2F;home&quot; component&#x3D;&#123;Home&#125;&gt;&lt;&#x2F;Route&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"五、Redirect-重定向-【是和-Route-并列的地方-使用-Redirect-的时候要加上-exact】\"><a href=\"#五、Redirect-重定向-【是和-Route-并列的地方-使用-Redirect-的时候要加上-exact】\" class=\"headerlink\" title=\"五、Redirect 重定向 【是和 Route 并列的地方 使用 Redirect 的时候要加上 exact】\"></a>五、Redirect 重定向 【是和 Route 并列的地方 使用 Redirect 的时候要加上 exact】</h1><hr>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> Component <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Link<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> Redirect <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Home</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是首页页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">About</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是关于页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Mine</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是我的页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>react<span class=\"token operator\">-</span>router<span class=\"token operator\">-</span>重定向<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span><span class=\"token operator\">></span>home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>about<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span><span class=\"token operator\">></span>mine<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n        <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* Redirect表示重定向，是和Route并列的地方 */</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* from类似于path(匹配)的效果 */</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* 使用Redirect的时候要加上exact */</span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Redirect from<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> exact<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Redirect<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Home<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>About<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Mine<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"六、路由鉴权-【运用-withRouter-高阶函数获取路由信息】【缺点：会加深组件树】【可以使用-Hooks-解决】\"><a href=\"#六、路由鉴权-【运用-withRouter-高阶函数获取路由信息】【缺点：会加深组件树】【可以使用-Hooks-解决】\" class=\"headerlink\" title=\"六、路由鉴权 【运用 withRouter 高阶函数获取路由信息】【缺点：会加深组件树】【可以使用 Hooks 解决】\"></a>六、路由鉴权 【运用 withRouter 高阶函数获取路由信息】【缺点：会加深组件树】【可以使用 Hooks 解决】</h1><hr>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Link<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> Redirect<span class=\"token punctuation\">,</span> withRouter <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 登录组件，以插槽形式渲染，没有路由信息，用withRouter高阶组件解决</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Login</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function-variable function\">fn</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"token\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"grthrthrth\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 编程式导航</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/home\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        这是登录页面 <span class=\"token operator\">-</span> <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>登录<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">// ---鉴权组件封装---做到复用功能------</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Auth</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Route\n        path<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">&#125;</span>\n        render<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"token\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Redirect from<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">&#125;</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/login\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Redirect<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span>\n      <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">// App</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>react<span class=\"token operator\">-</span>router<span class=\"token operator\">-</span>路由鉴权<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span><span class=\"token operator\">></span>home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>about<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span><span class=\"token operator\">></span>mine<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Redirect from<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> exact<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Redirect<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Home<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* &lt;Route path=\"/about\" component=&#123;About&#125;>&lt;/Route> */</span><span class=\"token punctuation\">&#125;</span>\n          <span class=\"token operator\">&lt;</span>Auth path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>About <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Auth<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* &lt;Route\n            path=\"/mine\"\n            render=&#123;() => &#123;\n              if (localStorage.getItem(\"token\")) &#123;\n                return &lt;Mine />;\n              &#125; else &#123;\n                return &lt;Redirect to=\"/login\">&lt;/Redirect>;\n              &#125;\n            &#125;&#125;\n          >&lt;/Route> */</span><span class=\"token punctuation\">&#125;</span>\n          <span class=\"token operator\">&lt;</span>Auth path<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Mine <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Auth<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/login\"</span><span class=\"token operator\">></span>\n            <span class=\"token punctuation\">&#123;</span><span class=\"token function\">withRouter</span><span class=\"token punctuation\">(</span>Login<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">//有高阶组件包住，插槽方式渲染就有路由信息了</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"七、-NavLink-组件-【作用是包含了-Link-的全部的功能，除此之外，增加了高亮的作用】【activeClassName-用于替换高亮的类名，exact-精准匹配】\"><a href=\"#七、-NavLink-组件-【作用是包含了-Link-的全部的功能，除此之外，增加了高亮的作用】【activeClassName-用于替换高亮的类名，exact-精准匹配】\" class=\"headerlink\" title=\"七、 NavLink 组件 【作用是包含了 Link 的全部的功能，除此之外，增加了高亮的作用】【activeClassName 用于替换高亮的类名，exact 精准匹配】\"></a>七、 NavLink 组件 【作用是包含了 Link 的全部的功能，除此之外，增加了高亮的作用】【activeClassName 用于替换高亮的类名，exact 精准匹配】</h1><hr>\n<p><font color='Salmon '><strong>【不添加 activeClassName 替换类名，默认就加了 className=’active’】</strong></font></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> NavLink<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"./07-styles.css\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//引入css样式</span>\n<span class=\"token comment\">// App部分</span>\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>react<span class=\"token operator\">-</span>router<span class=\"token operator\">-</span>路由高亮<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>NavLink to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> activeClassName<span class=\"token operator\">=</span><span class=\"token string\">\"select\"</span> exact<span class=\"token operator\">></span> <span class=\"token comment\">// 直接使用类名</span>\n              home\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>NavLink to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> activeClassName<span class=\"token operator\">=</span><span class=\"token string\">\"select\"</span><span class=\"token operator\">></span>\n              about\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>NavLink to<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span> activeClassName<span class=\"token operator\">=</span><span class=\"token string\">\"select\"</span><span class=\"token operator\">></span>\n              mine\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"八、Prompt-组件-【路由保护】【有-when-和-message-属性控制】\"><a href=\"#八、Prompt-组件-【路由保护】【有-when-和-message-属性控制】\" class=\"headerlink\" title=\"八、Prompt 组件 【路由保护】【有 when 和 message 属性控制】\"></a>八、Prompt 组件 【路由保护】【有 when 和 message 属性控制】</h1><hr>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Link<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Switch<span class=\"token punctuation\">,</span> Redirect<span class=\"token punctuation\">,</span> Prompt <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 案例，当input表单有内容的时候，进行跳转提示</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">About</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">handleChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是关于页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>input\n          type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span>\n          value<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">&#125;</span>\n          onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">&#125;</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span>Prompt\n          when<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>！！<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">// when里面接收 布尔值</span>\n          message<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">location</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token comment\">// 接收location参数，包含了当前路由信息</span>\n          <span class=\"token comment\">// &#123;pathname: '/mine', search: '?a=4&amp;b=8', hash: '', state: undefined, key: '7dibvy'&#125;</span>\n            <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Are you sure you want to go to </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token comment\">// url的跳转路径</span>\n          <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Prompt<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n        <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/mine?a=4&amp;b=8\"</span><span class=\"token operator\">></span>mine<span class=\"token operator\">&lt;</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">Link>   </span><span class=\"token regex-delimiter\">/</span></span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>加search直接<span class=\"token operator\">?</span>x<span class=\"token operator\">=</span>x<span class=\"token operator\">&amp;</span>x<span class=\"token operator\">=</span>x\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n       <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Redirect from<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> exact<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Redirect<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Home<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/about/:id\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>About<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Mine<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"九、404-页面匹配-【必须和-Switch-一起用，只能写在所有-Route-的最后面-】\"><a href=\"#九、404-页面匹配-【必须和-Switch-一起用，只能写在所有-Route-的最后面-】\" class=\"headerlink\" title=\"九、404 页面匹配 【必须和 Switch 一起用，只能写在所有 Route 的最后面 】\"></a>九、404 页面匹配 【必须和 Switch 一起用，只能写在所有 Route 的最后面 】</h1><hr>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// App的switch部分</span>\n<span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* 必须和 Switch一起用，只能写在所有Route的最后面 */</span><span class=\"token punctuation\">&#125;</span>\n  <span class=\"token operator\">&lt;</span>Redirect from<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> exact<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Redirect<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Home<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>About<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/mine\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>Mine<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"*\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>NotFound<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"十、params-路由信息-【获取-search-部分信息】\"><a href=\"#十、params-路由信息-【获取-search-部分信息】\" class=\"headerlink\" title=\"十、params 路由信息 【获取 search 部分信息】\"></a><strong>十、params 路由信息 【获取 search 部分信息】</strong></h1><hr>\n<p>相关方法：<font color='Salmon '><strong>【const params = new URLSearchParams(search)】</strong></font></p>\n<pre class=\"line-numbers language-Java\" data-language=\"Java\"><code class=\"language-Java\">class Mine extends Component &#123;\n  render() &#123;\n    &#x2F;&#x2F; console.log(this.props);\n    const &#123;\n      location: &#123; search &#125;,\n    &#125; &#x3D; this.props;\n    &#x2F;&#x2F; console.log(search);\n\n    const params &#x3D; new URLSearchParams(search);\n    console.log(params.get(&quot;a&quot;));\n    console.log(params.get(&quot;b&quot;));\n\n    return &lt;div&gt;这是我的页面&lt;&#x2F;div&gt;;\n  &#125;\n&#125;\nclass App extends Component &#123;\n  render() &#123;\n    return (\n      &lt;&gt;\n        &lt;h2&gt;react-router-参数&lt;&#x2F;h2&gt;\n        &lt;ul&gt;\n          &lt;li&gt;\n            &lt;Link to&#x3D;&quot;&#x2F;home&quot;&gt;home&lt;&#x2F;Link&gt;\n          &lt;&#x2F;li&gt;\n          &lt;li&gt;\n            &#123;&#x2F;* params传参 *&#x2F;&#125;\n            &lt;Link to&#x3D;&quot;&#x2F;about&#x2F;123&quot;&gt;about&lt;&#x2F;Link&gt;\n          &lt;&#x2F;li&gt;\n          &lt;li&gt;\n            &#123;&#x2F;* query传参 *&#x2F;&#125;\n            &lt;Link to&#x3D;&quot;&#x2F;mine?a&#x3D;3&amp;b&#x3D;4&quot;&gt;mine&lt;&#x2F;Link&gt;\n          &lt;&#x2F;li&gt;\n          &lt;li&gt;\n            &lt;Link\n              to&#x3D;&#123;&#123; &#x2F;&#x2F; 写成对象，就是location属性\n                pathname: &quot;&#x2F;detail&quot;,\n                search: &quot;?x&#x3D;10&amp;y&#x3D;20&quot;,\n                hash: &quot;#lll&quot;,\n                &#x2F;&#x2F; state可以写任意对象\n                state: &#123; str: &quot;hello&quot; &#125;,\n              &#125;&#125;\n            &gt;\n              detail\n            &lt;&#x2F;Link&gt;\n          &lt;&#x2F;li&gt;\n        &lt;&#x2F;ul&gt;\n\n        &lt;hr &#x2F;&gt;\n\n        &lt;Switch&gt;\n          &lt;Redirect from&#x3D;&quot;&#x2F;&quot; to&#x3D;&quot;&#x2F;home&quot; exact&gt;&lt;&#x2F;Redirect&gt;\n          &lt;Route path&#x3D;&quot;&#x2F;home&quot; component&#x3D;&#123;Home&#125;&gt;&lt;&#x2F;Route&gt;\n          &lt;Route path&#x3D;&quot;&#x2F;about&#x2F;:id&quot; component&#x3D;&#123;About&#125;&gt;&lt;&#x2F;Route&gt;\n          &lt;Route path&#x3D;&quot;&#x2F;mine&quot; component&#x3D;&#123;Mine&#125;&gt;&lt;&#x2F;Route&gt;\n          &lt;Route path&#x3D;&quot;&#x2F;detail&quot; component&#x3D;&#123;Detail&#125;&gt;&lt;&#x2F;Route&gt;\n        &lt;&#x2F;Switch&gt;\n      &lt;&#x2F;&gt;\n    );\n  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"十一、Hooks-【useHistory、-useLocation、useParams、useRouteMatch-useSearchParams-】【只能给函数组件用】\"><a href=\"#十一、Hooks-【useHistory、-useLocation、useParams、useRouteMatch-useSearchParams-】【只能给函数组件用】\" class=\"headerlink\" title=\"十一、Hooks 【useHistory、 useLocation、useParams、useRouteMatch, useSearchParams 】【只能给函数组件用】\"></a>十一、Hooks 【useHistory、 useLocation、useParams、useRouteMatch, useSearchParams 】【只能给函数组件用】</h1><hr>\n<p>增强函数组件的功能, 不会使组件树变深</p>\n<p>所有的 hooks 都要写在函数组件的顶层</p>\n<p>所有的 hooks 都是函数，都是 use 开头的</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>\n  Link<span class=\"token punctuation\">,</span>\n  Switch<span class=\"token punctuation\">,</span>\n  Route<span class=\"token punctuation\">,</span>\n  useHistory<span class=\"token punctuation\">,</span>\n  useLocation<span class=\"token punctuation\">,</span>\n  useParams<span class=\"token punctuation\">,</span>\n  useRouteMatch<span class=\"token punctuation\">,</span>\n  useSearchParams\n<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Home</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> history <span class=\"token operator\">=</span> <span class=\"token function\">useHistory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> location <span class=\"token operator\">=</span> <span class=\"token function\">useLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> params <span class=\"token operator\">=</span> <span class=\"token function\">useParams</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> match <span class=\"token operator\">=</span> <span class=\"token function\">useRouteMatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchParams<span class=\"token punctuation\">,</span>setSearchParams<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useSearchParams</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 或取url search部分的键值对</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>searchParams<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>可以或许<span class=\"token operator\">?</span>id<span class=\"token operator\">=</span><span class=\"token string\">'xxxxx'</span> 部分\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fn</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>location<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      这是home组件 <span class=\"token operator\">-</span> <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>fn<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>btn<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"十二、路由表-【类似-vue-的路由表】\"><a href=\"#十二、路由表-【类似-vue-的路由表】\" class=\"headerlink\" title=\"十二、路由表 【类似 vue 的路由表】\"></a>十二、路由表 【类似 vue 的路由表】</h1><hr>\n<ol>\n<li><p>建立路由表文件 【将原本的 App 导入，把路由组件写在这边，通过插槽创建路由层级，App proprs.children 接受，再导出到总文件】</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//引入App父组件</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Route <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Home <span class=\"token keyword\">from</span> <span class=\"token string\">\"./pages/Home\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> About <span class=\"token keyword\">from</span> <span class=\"token string\">\"./pages/About\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Home1 <span class=\"token keyword\">from</span> <span class=\"token string\">\"./pages/Home1\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Home2 <span class=\"token keyword\">from</span> <span class=\"token string\">\"./pages/Home2\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Router</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>App<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Home<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/home/home1\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Home1 <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/home/home2\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Home2 <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Home<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>About <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Route<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>App<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Router<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>App 部分</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Link<span class=\"token punctuation\">,</span> Switch <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>router5<span class=\"token operator\">-</span>路由表<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span><span class=\"token operator\">></span>home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>about<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span><span class=\"token punctuation\">&#123;</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">&lt;</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">Switch> </span><span class=\"token regex-delimiter\">/</span></span> <span class=\"token comment\">//类似vue的link-view,显示对应的路由页面</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>二级嵌套路由</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Link<span class=\"token punctuation\">,</span> Switch <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Home</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>这是首页页面<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/home/home1\"</span><span class=\"token operator\">></span>home1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/home/home2\"</span><span class=\"token operator\">></span>home2<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n\n      <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n      <span class=\"token operator\">&lt;</span>Switch<span class=\"token operator\">></span><span class=\"token punctuation\">&#123;</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Switch<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Home<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n<h1 id=\"十三、Lazy-【-路由懒加载-】-【-lazy-函数、Suspense-包裹懒加载的组件、fallback-加载过程显示内容】\"><a href=\"#十三、Lazy-【-路由懒加载-】-【-lazy-函数、Suspense-包裹懒加载的组件、fallback-加载过程显示内容】\" class=\"headerlink\" title=\"十三、Lazy 【 路由懒加载 】 【 lazy 函数、Suspense 包裹懒加载的组件、fallback 加载过程显示内容】\"></a>十三、Lazy 【 路由懒加载 】 【 lazy 函数、Suspense 包裹懒加载的组件、fallback 加载过程显示内容】</h1><hr>\n<ul>\n<li><p>App 配置</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> Component<span class=\"token punctuation\">,</span> lazy<span class=\"token punctuation\">,</span> Suspense <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// todo lazy就是用来做组件懒加载的</span>\n<span class=\"token comment\">// todo lazy需要配合Suspense一起使用</span>\n\n<span class=\"token comment\">// import Child from \"./Child\";</span>\n<span class=\"token keyword\">const</span> Child <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./Child\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//lazy函数包裹需要做懒加载的子组件</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Loading</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>loading<span class=\"token punctuation\">,</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">,</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">&#123;</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">fn</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n      <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span>组件懒加载<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fn<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>btn<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">&#123;</span><span class=\"token comment\">/* fallback表示组件在加载的过程中显示的内容 */</span><span class=\"token punctuation\">&#125;</span>'\n        <span class=\"token operator\">&lt;</span>Suspense fallback<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token operator\">&lt;</span>Loading <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>\n          <span class=\"token punctuation\">&#123;</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>show <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">&lt;</span>Child <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">&#125;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Suspense<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<hr>\n","text":"React 学习总结( 四 ) 【 路由系列】 react-router-dom(路由 4.5 版本) 一、基础路由搭建 相关技术点： 安装路由，解构出 BrowserRouter 套住需要路由的根组件 import &#123; BrowserRouter as Router ...","link":"","photos":[],"count_time":{"symbolsCount":"18k","symbolsTime":"16 mins."},"categories":[{"name":"React","slug":"React","count":7,"path":"api/categories/React.json"}],"tags":[{"name":"React笔记","slug":"React笔记","count":7,"path":"api/tags/React笔记.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#React-%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E5%9B%9B-%E3%80%90-%E8%B7%AF%E7%94%B1%E7%B3%BB%E5%88%97%E3%80%91\"><span class=\"toc-text\">React 学习总结( 四 ) 【 路由系列】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#react-router-dom-%E8%B7%AF%E7%94%B1-4-5-%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">react-router-dom(路由 4.5 版本)</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E5%9F%BA%E7%A1%80%E8%B7%AF%E7%94%B1%E6%90%AD%E5%BB%BA\"><span class=\"toc-text\">一、基础路由搭建</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1-%E3%80%90history-%E7%94%A8%E6%9D%A5%E5%81%9A%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA-location-%E7%94%A8%E6%9D%A5%E8%8E%B7%E5%8F%96-url-%E4%BF%A1%E6%81%AF-match-%E7%94%A8%E6%9D%A5%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E3%80%91\"><span class=\"toc-text\">二、动态路由 【history 用来做编程式导航, location 用来获取 url 信息, match 用来获取参数】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E8%B7%AF%E7%94%B1%E5%B5%8C%E5%A5%97\"><span class=\"toc-text\">三、路由嵌套</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B8%B2%E6%9F%93%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">四、组件的渲染方式</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BA%94%E3%80%81Redirect-%E9%87%8D%E5%AE%9A%E5%90%91-%E3%80%90%E6%98%AF%E5%92%8C-Route-%E5%B9%B6%E5%88%97%E7%9A%84%E5%9C%B0%E6%96%B9-%E4%BD%BF%E7%94%A8-Redirect-%E7%9A%84%E6%97%B6%E5%80%99%E8%A6%81%E5%8A%A0%E4%B8%8A-exact%E3%80%91\"><span class=\"toc-text\">五、Redirect 重定向 【是和 Route 并列的地方 使用 Redirect 的时候要加上 exact】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%AD%E3%80%81%E8%B7%AF%E7%94%B1%E9%89%B4%E6%9D%83-%E3%80%90%E8%BF%90%E7%94%A8-withRouter-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E8%8E%B7%E5%8F%96%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E3%80%91%E3%80%90%E7%BC%BA%E7%82%B9%EF%BC%9A%E4%BC%9A%E5%8A%A0%E6%B7%B1%E7%BB%84%E4%BB%B6%E6%A0%91%E3%80%91%E3%80%90%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-Hooks-%E8%A7%A3%E5%86%B3%E3%80%91\"><span class=\"toc-text\">六、路由鉴权 【运用 withRouter 高阶函数获取路由信息】【缺点：会加深组件树】【可以使用 Hooks 解决】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%83%E3%80%81-NavLink-%E7%BB%84%E4%BB%B6-%E3%80%90%E4%BD%9C%E7%94%A8%E6%98%AF%E5%8C%85%E5%90%AB%E4%BA%86-Link-%E7%9A%84%E5%85%A8%E9%83%A8%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%8C%E9%99%A4%E6%AD%A4%E4%B9%8B%E5%A4%96%EF%BC%8C%E5%A2%9E%E5%8A%A0%E4%BA%86%E9%AB%98%E4%BA%AE%E7%9A%84%E4%BD%9C%E7%94%A8%E3%80%91%E3%80%90activeClassName-%E7%94%A8%E4%BA%8E%E6%9B%BF%E6%8D%A2%E9%AB%98%E4%BA%AE%E7%9A%84%E7%B1%BB%E5%90%8D%EF%BC%8Cexact-%E7%B2%BE%E5%87%86%E5%8C%B9%E9%85%8D%E3%80%91\"><span class=\"toc-text\">七、 NavLink 组件 【作用是包含了 Link 的全部的功能，除此之外，增加了高亮的作用】【activeClassName 用于替换高亮的类名，exact 精准匹配】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%AB%E3%80%81Prompt-%E7%BB%84%E4%BB%B6-%E3%80%90%E8%B7%AF%E7%94%B1%E4%BF%9D%E6%8A%A4%E3%80%91%E3%80%90%E6%9C%89-when-%E5%92%8C-message-%E5%B1%9E%E6%80%A7%E6%8E%A7%E5%88%B6%E3%80%91\"><span class=\"toc-text\">八、Prompt 组件 【路由保护】【有 when 和 message 属性控制】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B9%9D%E3%80%81404-%E9%A1%B5%E9%9D%A2%E5%8C%B9%E9%85%8D-%E3%80%90%E5%BF%85%E9%A1%BB%E5%92%8C-Switch-%E4%B8%80%E8%B5%B7%E7%94%A8%EF%BC%8C%E5%8F%AA%E8%83%BD%E5%86%99%E5%9C%A8%E6%89%80%E6%9C%89-Route-%E7%9A%84%E6%9C%80%E5%90%8E%E9%9D%A2-%E3%80%91\"><span class=\"toc-text\">九、404 页面匹配 【必须和 Switch 一起用，只能写在所有 Route 的最后面 】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E3%80%81params-%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF-%E3%80%90%E8%8E%B7%E5%8F%96-search-%E9%83%A8%E5%88%86%E4%BF%A1%E6%81%AF%E3%80%91\"><span class=\"toc-text\">十、params 路由信息 【获取 search 部分信息】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%80%E3%80%81Hooks-%E3%80%90useHistory%E3%80%81-useLocation%E3%80%81useParams%E3%80%81useRouteMatch-useSearchParams-%E3%80%91%E3%80%90%E5%8F%AA%E8%83%BD%E7%BB%99%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E7%94%A8%E3%80%91\"><span class=\"toc-text\">十一、Hooks 【useHistory、 useLocation、useParams、useRouteMatch, useSearchParams 】【只能给函数组件用】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%BA%8C%E3%80%81%E8%B7%AF%E7%94%B1%E8%A1%A8-%E3%80%90%E7%B1%BB%E4%BC%BC-vue-%E7%9A%84%E8%B7%AF%E7%94%B1%E8%A1%A8%E3%80%91\"><span class=\"toc-text\">十二、路由表 【类似 vue 的路由表】</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%89%E3%80%81Lazy-%E3%80%90-%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD-%E3%80%91-%E3%80%90-lazy-%E5%87%BD%E6%95%B0%E3%80%81Suspense-%E5%8C%85%E8%A3%B9%E6%87%92%E5%8A%A0%E8%BD%BD%E7%9A%84%E7%BB%84%E4%BB%B6%E3%80%81fallback-%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B%E6%98%BE%E7%A4%BA%E5%86%85%E5%AE%B9%E3%80%91\"><span class=\"toc-text\">十三、Lazy 【 路由懒加载 】 【 lazy 函数、Suspense 包裹懒加载的组件、fallback 加载过程显示内容】</span></a></li></ol>","author":{"name":"LCS's Blog","slug":"blog-author","avatar":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/avatar.png","link":"/","description":"一位正在重塑知识的技术人 <br /> @a <h3>加油！！！</h3>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"React小记【immutable与hooks】","uid":"7b3e4977044b53ba020eff72809f2f12","slug":"React学习总结( 六 ) 【 immutable 与 hooks 】","date":"2022-12-26T13:14:11.604Z","updated":"2023-02-01T06:48:38.376Z","comments":true,"path":"api/articles/React学习总结( 六 ) 【 immutable 与 hooks 】.json","keywords":null,"cover":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/gqj5.jpg","text":"React 学习总结( 六 ) 【 immutable 与 hooks 】 immutable 一、什么是 immutable？immutable，译为\"不可改变的\"，是一种持久化数据。它有一旦被创建就不会被修改的特性。 当你修改 immutable 对象的时候返回新的 immu...","link":"","photos":[],"count_time":{"symbolsCount":"9k","symbolsTime":"8 mins."},"categories":[{"name":"React","slug":"React","count":7,"path":"api/categories/React.json"}],"tags":[{"name":"React笔记","slug":"React笔记","count":7,"path":"api/tags/React笔记.json"}],"author":{"name":"LCS's Blog","slug":"blog-author","avatar":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/avatar.png","link":"/","description":"一位正在重塑知识的技术人 <br /> @a <h3>加油！！！</h3>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"React小记（一）","uid":"0b9255324d1752fc31147db2449c0610","slug":"React学习总结（一）","date":"2022-12-26T13:14:11.604Z","updated":"2023-02-01T06:49:56.397Z","comments":true,"path":"api/articles/React学习总结（一）.json","keywords":null,"cover":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/gqj2.jpg","text":"React 学习总结（一）1、组件中的 DOM 样式 第一种：行内样式// 注意这里的两个括号，第一个表示我们在要JSX里插入JS了，第二个是对象的括号 &lt;p style=&#123;&#123;color:'red', fontSize:'14px'&#125;&#125...","link":"","photos":[],"count_time":{"symbolsCount":"6.7k","symbolsTime":"6 mins."},"categories":[{"name":"React","slug":"React","count":7,"path":"api/categories/React.json"}],"tags":[{"name":"React笔记","slug":"React笔记","count":7,"path":"api/tags/React笔记.json"}],"author":{"name":"LCS's Blog","slug":"blog-author","avatar":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/avatar.png","link":"/","description":"一位正在重塑知识的技术人 <br /> @a <h3>加油！！！</h3>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}