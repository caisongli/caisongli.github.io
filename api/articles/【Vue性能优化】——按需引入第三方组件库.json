{"title":"Vue性能优化——按需引入第三方组件库","uid":"60f5536e92b4df8f10291e74b113744c","slug":"【Vue性能优化】——按需引入第三方组件库","date":"2022-12-26T13:14:11.605Z","updated":"2023-02-01T05:46:01.484Z","comments":true,"path":"api/articles/【Vue性能优化】——按需引入第三方组件库.json","keywords":null,"cover":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/10012.png","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h1 id=\"Vue按需引入第三方组件库\"><a href=\"#Vue按需引入第三方组件库\" class=\"headerlink\" title=\"Vue按需引入第三方组件库\"></a>Vue按需引入第三方组件库</h1><h2 id=\"为什么按需引入组件库\"><a href=\"#为什么按需引入组件库\" class=\"headerlink\" title=\"为什么按需引入组件库?\"></a>为什么按需引入组件库?</h2><p><font color= 'yellow' >为了能够快速开发，提高开发效率，通常都会引入第三方组件库，当把组件库全部导入项目中，最后打包项目后会发现项目的体积过大。实际情况中，整个项目可能才使用整个组件库40%的组件，而剩下60%不用就显得非常浪费。我们可以将这用到的40%的组件按需引入到项目中，不用的组件则不引入到项目，从而达到减少打包体积，提升项目响应速度的目的。</font></p>\n<h2 id=\"项目打包体积对比：\"><a href=\"#项目打包体积对比：\" class=\"headerlink\" title=\"项目打包体积对比：\"></a>项目打包体积对比：</h2><img src = \" https://img1.imgtp.com/2022/09/19/JJyeel3R.png\" />\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dist.zip为按需引入组件库，使用了些许标签的打包体积，只有392KB<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dist(2).zip为组件库全局引入，使用了些许标签的打包结果，却是达到了1.1M<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong><font color= 'each' >总结：由此可见，按需引入组件库是可以有效减少项目体积的，提高项目线上首屏渲染速度，减少白屏时间，减少流量消耗</font></strong></p>\n<h2 id=\"组件按需引入的方法【以arco-design-web-vue组件库为例】\"><a href=\"#组件按需引入的方法【以arco-design-web-vue组件库为例】\" class=\"headerlink\" title=\"组件按需引入的方法【以arco-design/web-vue组件库为例】\"></a>组件按需引入的方法【以arco-design/web-vue组件库为例】</h2><p><strong><font color= 'sdffwd' >1、安装unplugin-vue-components  和  unplugin-auto-import  插件</font></strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> <span class=\"token parameter variable\">-D</span> unplugin-vue-components unplugin-auto-import\n<span class=\"token comment\"># 或者使用 npm</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-D</span> unplugin-vue-components unplugin-auto-import<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><strong><font color= 'sdffwd' >2、配置vue.config.js文件</font></strong></p>\n<p>vue-cli内部用的就是<a href=\"https://so.csdn.net/so/search?q=webpack&spm=1001.2101.3001.7020\">webpack</a>，所以configureWebpack配置的会被合并</p>\n<p><strong><font color= 'each' >自动引入组件与样式，不需在main.js引入</font></strong></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> defineConfig <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@vue/cli-service'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> AutoImport <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'unplugin-auto-import/webpack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> Components <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'unplugin-vue-components/webpack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> ArcoResolver <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'unplugin-vue-components/resolvers'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//如果是ElementPlus组件库则是ElementPlusResolver</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token literal-property property\">transpileDependencies</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">configureWebpack</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token function\">AutoImport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token literal-property property\">resolvers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ArcoResolver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">Components</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token literal-property property\">resolvers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ArcoResolver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"组件使用：【使用了组件库的Layout、Button、Space、图片轮播-Carousel组件】\"><a href=\"#组件使用：【使用了组件库的Layout、Button、Space、图片轮播-Carousel组件】\" class=\"headerlink\" title=\"组件使用：【使用了组件库的Layout、Button、Space、图片轮播 Carousel组件】\"></a>组件使用：【使用了组件库的Layout、Button、Space、图片轮播 Carousel组件】</h3><pre class=\"line-numbers language-HTML\" data-language=\"HTML\"><code class=\"language-HTML\">&lt;template&gt;\n  &lt;div class&#x3D;&quot;layout-demo&quot; style&#x3D;&quot;height: 100vh&quot;&gt;\n    &lt;a-layout style&#x3D;&quot;height: 100%&quot;&gt;\n      &lt;a-layout-header&gt;Header&lt;&#x2F;a-layout-header&gt;\n      &lt;a-layout&gt;\n        &lt;a-layout-sider theme&#x3D;&quot;dark&quot;&gt;Sider&lt;&#x2F;a-layout-sider&gt;\n        &lt;a-layout-content\n          &gt;&lt;div class&#x3D;&quot;hello&quot;&gt;\n            &lt;slot &#x2F;&gt;\n            &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;home | &lt;&#x2F;router-link&gt;\n            &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;about&lt;&#x2F;router-link&gt;\n            &lt;slot name&#x3D;&quot;b&quot;&gt;&lt;&#x2F;slot&gt;\n            &lt;h1&gt;哈哈哈&lt;&#x2F;h1&gt;\n            &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;\n            &lt;a-space&gt;\n              &lt;a-button type&#x3D;&quot;primary&quot;&gt;Primary&lt;&#x2F;a-button&gt;\n              &lt;a-button type&#x3D;&quot;dashed&quot;&gt;Dashed&lt;&#x2F;a-button&gt;\n              &lt;a-button type&#x3D;&quot;outline&quot;&gt;Outline&lt;&#x2F;a-button&gt;\n              &lt;a-button type&#x3D;&quot;text&quot;&gt;Text&lt;&#x2F;a-button&gt;\n            &lt;&#x2F;a-space&gt;\n          &lt;&#x2F;div&gt;\n          &lt;div&gt;\n            &lt;a-carousel\n              :style&#x3D;&quot;&#123;\n                width: &#39;600px&#39;,\n                height: &#39;240px&#39;,\n              &#125;&quot;\n              :default-current&#x3D;&quot;2&quot;\n              @change&#x3D;&quot;handleChange&quot;\n              :auto-play&#x3D;&quot;true&quot;\n              animation-name&#x3D;&quot;fade&quot;\n            &gt;\n              &lt;a-carousel-item v-for&#x3D;&quot;image in images&quot; :key&#x3D;&quot;image&quot;&gt;\n                &lt;img\n                  :src&#x3D;&quot;image&quot;\n                  :style&#x3D;&quot;&#123;\n                    width: &#39;100%&#39;,\n                  &#125;&quot;\n                &#x2F;&gt;\n              &lt;&#x2F;a-carousel-item&gt;\n            &lt;&#x2F;a-carousel&gt;\n          &lt;&#x2F;div&gt;\n        &lt;&#x2F;a-layout-content&gt;\n      &lt;&#x2F;a-layout&gt;\n      &lt;a-layout-footer&gt;Footer&lt;&#x2F;a-layout-footer&gt;\n    &lt;&#x2F;a-layout&gt;\n  &lt;&#x2F;div&gt;\n&lt;&#x2F;template&gt;\n\n&lt;script&gt;\nimport &#123; defineComponent &#125; from &quot;vue&quot;;\nexport default defineComponent(&#123;\n  name: &quot;HelloWorld&quot;,\n  props: &#123;\n    msg: String,\n  &#125;,\n  setup() &#123;\n    const images &#x3D; [\n      &quot;https:&#x2F;&#x2F;p1-arco.byteimg.com&#x2F;tos-cn-i-uwbnlip3yd&#x2F;cd7a1aaea8e1c5e3d26fe2591e561798.png~tplv-uwbnlip3yd-webp.webp&quot;,\n      &quot;https:&#x2F;&#x2F;p1-arco.byteimg.com&#x2F;tos-cn-i-uwbnlip3yd&#x2F;6480dbc69be1b5de95010289787d64f1.png~tplv-uwbnlip3yd-webp.webp&quot;,\n      &quot;https:&#x2F;&#x2F;p1-arco.byteimg.com&#x2F;tos-cn-i-uwbnlip3yd&#x2F;0265a04fddbd77a19602a15d9d55d797.png~tplv-uwbnlip3yd-webp.webp&quot;,\n    ];\n    const handleChange &#x3D; (value) &#x3D;&gt; &#123;\n      console.log(value);\n    &#125;;\n    return &#123;\n      images,\n      handleChange,\n    &#125;;\n  &#125;,\n&#125;);\n&lt;&#x2F;script&gt;\n\n&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;\n&lt;style scoped&gt;\n.layout-demo :deep(.arco-layout-header),\n.layout-demo :deep(.arco-layout-footer),\n.layout-demo :deep(.arco-layout-sider-children),\n.layout-demo :deep(.arco-layout-content) &#123;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  color: var(--color-white);\n  font-size: 16px;\n  font-stretch: condensed;\n  text-align: center;\n&#125;\n\n.layout-demo :deep(.arco-layout-header),\n.layout-demo :deep(.arco-layout-footer) &#123;\n  height: 64px;\n  background-color: var(--color-primary-light-4);\n&#125;\n\n.layout-demo :deep(.arco-layout-sider) &#123;\n  width: 206px;\n  &#x2F;* height: calc(100% - 128px); *&#x2F;\n  background-color: var(--color-primary-light-3);\n&#125;\n\n.layout-demo :deep(.arco-layout-content) &#123;\n  background-color: rgb(var(--arcoblue-6));\n&#125;\n&lt;&#x2F;style&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<img src=\"https://img1.imgtp.com/2022/09/19/B61ULNRQ.png\" />","text":"Vue按需引入第三方组件库为什么按需引入组件库?为了能够快速开发，提高开发效率，通常都会引入第三方组件库，当把组件库全部导入项目中，最后打包项目后会发现项目的体积过大。实际情况中，整个项目可能才使用整个组件库40%的组件，而剩下60%不用就显得非常浪费。我们可以将这用到的40%的...","link":"","photos":[],"count_time":{"symbolsCount":"5.4k","symbolsTime":"5 mins."},"categories":[{"name":"Vue性能优化","slug":"Vue性能优化","count":1,"path":"api/categories/Vue性能优化.json"}],"tags":[{"name":"Vue性能优化","slug":"Vue性能优化","count":1,"path":"api/tags/Vue性能优化.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Vue%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6%E5%BA%93\"><span class=\"toc-text\">Vue按需引入第三方组件库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5%E7%BB%84%E4%BB%B6%E5%BA%93\"><span class=\"toc-text\">为什么按需引入组件库?</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E4%BD%93%E7%A7%AF%E5%AF%B9%E6%AF%94%EF%BC%9A\"><span class=\"toc-text\">项目打包体积对比：</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%84%E4%BB%B6%E6%8C%89%E9%9C%80%E5%BC%95%E5%85%A5%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%90%E4%BB%A5arco-design-web-vue%E7%BB%84%E4%BB%B6%E5%BA%93%E4%B8%BA%E4%BE%8B%E3%80%91\"><span class=\"toc-text\">组件按需引入的方法【以arco-design&#x2F;web-vue组件库为例】</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%EF%BC%9A%E3%80%90%E4%BD%BF%E7%94%A8%E4%BA%86%E7%BB%84%E4%BB%B6%E5%BA%93%E7%9A%84Layout%E3%80%81Button%E3%80%81Space%E3%80%81%E5%9B%BE%E7%89%87%E8%BD%AE%E6%92%AD-Carousel%E7%BB%84%E4%BB%B6%E3%80%91\"><span class=\"toc-text\">组件使用：【使用了组件库的Layout、Button、Space、图片轮播 Carousel组件】</span></a></li></ol></li></ol></li></ol>","author":{"name":"LCS's Blog","slug":"blog-author","avatar":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/avatar.png","link":"/","description":"一位正在重塑知识的技术人 <br /> @a <h3>加油！！！</h3>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Pinia菠萝——Vue的最新状态存储库","uid":"9a20f08646fc7ae20aeb4af73512aebe","slug":"【Pinia菠萝】——Vue最新的状态存储库","date":"2022-12-26T13:14:11.605Z","updated":"2023-02-01T05:45:43.337Z","comments":true,"path":"api/articles/【Pinia菠萝】——Vue最新的状态存储库.json","keywords":null,"cover":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/10005.jpeg","text":"【Pinia 菠萝】——Vue 的最新状态存储库Pinia 是什么?Pinia 是一个用于 Vue 的状态管理库，类似 Vuex, 是 Vue 的另一种状态管理方案 Pinia 支持 Vue2 和 Vue3 Pinia 优势mutations 不再存在,更加简洁直观，减少代码冗余...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"Vue","slug":"Vue","count":3,"path":"api/categories/Vue.json"}],"tags":[{"name":"Pinia菠萝","slug":"Pinia菠萝","count":1,"path":"api/tags/Pinia菠萝.json"}],"author":{"name":"LCS's Blog","slug":"blog-author","avatar":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/avatar.png","link":"/","description":"一位正在重塑知识的技术人 <br /> @a <h3>加油！！！</h3>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"判断密码强度","uid":"93caf5b8f94c3a6b610b12e797fcd466","slug":"【前端面试题】——判断密码强度（简易版）","date":"2022-12-26T13:14:11.605Z","updated":"2023-01-30T07:32:48.916Z","comments":true,"path":"api/articles/【前端面试题】——判断密码强度（简易版）.json","keywords":null,"cover":"https://gitee.com/caisong-li/img/raw/master/hz5.jpg","text":"【前端面试题】——判断密码强度（简易版）代码：&lt;body&gt; &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;input&quot; &#x2F;&gt; &lt;span id&#x3D;&quot;massge1...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"js面试题","slug":"js面试题","count":4,"path":"api/categories/js面试题.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":4,"path":"api/tags/JavaScript.json"}],"author":{"name":"LCS's Blog","slug":"blog-author","avatar":"https://lcspg.oss-cn-hangzhou.aliyuncs.com/img/avatar.png","link":"/","description":"一位正在重塑知识的技术人 <br /> @a <h3>加油！！！</h3>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}